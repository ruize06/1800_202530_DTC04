import"./style-gcIZDgIN.js";import"./site-navbar-3H4lVGoP.js";import{l as h,a as y,s as w}from"./authentication-DKrwougs.js";function L(){const i=document.getElementById("authAlert"),a=document.getElementById("loginView"),c=document.getElementById("signupView"),E=document.getElementById("toSignup"),v=document.getElementById("toLogin"),d=document.getElementById("loginForm"),m=document.getElementById("signupForm"),f="main.html";function s(e,t){e.classList.toggle("hidden",!t)}let g;function l(e){i.textContent=e||"",i.classList.remove("hidden"),clearTimeout(g),g=setTimeout(o,5e3)}function o(){i.classList.add("hidden"),i.textContent="",clearTimeout(g)}function u(e,t){const n=e?.querySelector('[type="submit"]');n&&(n.disabled=t)}E?.addEventListener("click",e=>{e.preventDefault(),o(),s(a,!1),s(c,!0),c?.querySelector("input")?.focus()}),v?.addEventListener("click",e=>{e.preventDefault(),o(),s(c,!1),s(a,!0),a?.querySelector("input")?.focus()}),d?.addEventListener("submit",async e=>{e.preventDefault(),o();const t=document.querySelector("#loginEmail")?.value?.trim()??"",n=document.querySelector("#loginPassword")?.value??"";if(!t||!n){l("Please enter your email and password.");return}u(d,!0);try{await h(t,n),location.href=f}catch(r){l(y(r)),console.error(r)}finally{u(d,!1)}}),m?.addEventListener("submit",async e=>{e.preventDefault(),o();const t=document.querySelector("#signupName")?.value?.trim()??"",n=document.querySelector("#signupEmail")?.value?.trim()??"",r=document.querySelector("#signupPassword")?.value??"";if(!t||!n||!r){l("Please fill in name, email, and password.");return}u(m,!0);try{await w(t,n,r),location.href=f}catch(p){l(y(p)),console.error(p)}finally{u(m,!1)}})}document.addEventListener("DOMContentLoaded",L);
